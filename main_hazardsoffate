import time
import sys
import random

#writing letter by letter
def delay_print(s):
    for c in s:
        sys.stdout.write(c)
        sys.stdout.flush()
        time.sleep(0.05)
        
#request user input
def userInput():
  name = raw_input("What's your name?: ")
  ageTrigger = True
  while ageTrigger == True:
      try:
          age = input("How old are you?: ")
          ageTrigger = False
          if age > 99:
              print "Damn you're old."
          elif age < 7:
            print "Are you sure this game is not too scary for you?"
      except NameError:
          print "That's not a number."
  sexTrigger = True
  while sexTrigger == True:
      sex = raw_input("Are you male, female or cyborg? Write 'm', 'f' or 'c': ")
      sexStandard = sex.lower()
      if sexStandard == "m" or sexStandard == "f" or sexStandard == "c":
        sexTrigger = False
      else:
        print "Are you serious?"
  difficultyTrigger = True
  while difficultyTrigger == True:
      difficulty = raw_input("Select difficulty: medium ('m'), hard ('h'), or brutal ('b'): ")
      difficultyStandard = difficulty.lower()
      if difficultyStandard == "m" or difficultyStandard == "h" or difficultyStandard == "b":
        difficultyTrigger = False
      else:
        print "You can do this..."

#choose function
def chooseFunction():
  choiceTrigger = True
  while choiceTrigger == True:
    choice = raw_input("To play the game, press 'P'. To see the leaderboards, press 'L'. ")
    choiceStandard = choice.lower()
    if choiceStandard == "p":
      print "Welcome to the game!"
      choiceTrigger = False
      userInput()
    elif choiceStandard == "l":
      print "Here are the leaderboards."
      choiceTrigger = False
    else:
      print """That's not a valid input.
This is not a moment to be a rebel.
Please follow the instructions."""

#load file
def loadFile():
  with open("Questions.txt", "r") as fileQuestions:
    print "success"
    
def randomQuestionsOrder():
    with open('Questions.txt','r') as source:
        data = [ (random.random(), line) for line in source ]
    data.sort()
    with open('randomQuestions','w') as target:
        for _, line in data:
            target.write( line )
    with open('randomQuestions','r') as target:
        print target.readlines()
        
def askQuestion():
    with open('randomQuestions','r') as target:
        #TO BE CONTINUED
        answer =
        return answer
        
def determineCorrect():
    with open('randomQuestions','r') as target:
        #TO BE CONTINUED
        correct =
        return correct
    
#determine if the user wins or loses
def victoryAndDefeat(positiveStoryProgress, negativeStoryProgress):
    if positiveStoryProgress == 2:
        print "Victory!"
    elif negativeStoryProgress == 2:
        print "Defeat!"

#THE MAIN PROGRAM BEGINS HERE

#defining a few key variables
score = 0
positiveStoryProgress = 0
negativeStoryProgress = 0
counter = 1


# Greeting
greeting = """By Hazards of Fate, you found yourself in a cave surrounded by a dozen beehives. The bees are buzzing angrily and there seems to be no way out of the cave...
That is, until a green-eyed spirit appears in front of you and offers to help. If you can answer three questions correctly, he'll help you get out.
However, get three questions wrong and a faith worse than death shall await you..."""
delay_print(greeting)
chooseFunction()
print "Generating questions..."
randomQuestionsOrder()
while positiveStoryProgress < 2 and negativeStoryProgress < 2:
    userAnswer = askQuestion()
    correctAnswer = determineCorrect(userAnswer)
    if userAnswer == correctAnswer:
        print "Correct!"
        positiveStoryProgress = positiveStoryProgress + 1
    if userAnswer != correctAnswer:
        print "False!"
        negativeStoryProgress = negativeStoryProgress + 1
    victoryAndDefeat(positiveStoryProgress, negativeStoryProgress)
